{"ast":null,"code":"var _jsxFileName = \"/Users/linmat/Documents/GitHub/Reversed-RideSmart/frontend/src/MapSelector.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './MapSelector.css';\n\n// Fix for default marker icons in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png'\n});\n\n// Custom icon for origin (green)\nconst originIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  tooltipAnchor: [16, -28],\n  shadowSize: [41, 41]\n});\n\n// Custom icon for destination (red)\nconst destinationIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  tooltipAnchor: [16, -28],\n  shadowSize: [41, 41]\n});\n\n// Component to handle map clicks\nfunction MapClickHandler({\n  onMapClick,\n  selectMode\n}) {\n  _s();\n  useMapEvents({\n    click(e) {\n      if (selectMode === 'origin' || selectMode === 'destination') {\n        onMapClick(e.latlng, selectMode);\n      }\n    }\n  });\n  return null;\n}\n\n// Component to center map on origin when it changes\n_s(MapClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n  return [useMapEvents];\n});\n_c = MapClickHandler;\nfunction MapCenter({\n  center,\n  zoom\n}) {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    if (center) {\n      map.setView(center, zoom || map.getZoom());\n    }\n  }, [center, zoom, map]);\n  return null;\n}\n_s2(MapCenter, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = MapCenter;\nfunction MapSelector({\n  origin,\n  destination,\n  onOriginSelect,\n  onDestinationSelect,\n  selectMode\n}) {\n  _s3();\n  const [mapReady, setMapReady] = useState(false);\n  useEffect(() => {\n    setMapReady(true);\n  }, []);\n  const handleMapClick = (latlng, mode) => {\n    const coords = {\n      lat: latlng.lat,\n      lng: latlng.lng\n    };\n    if (mode === 'origin') {\n      onOriginSelect(coords);\n    } else if (mode === 'destination') {\n      onDestinationSelect(coords);\n    }\n  };\n\n  // Default center (University of Chicago area)\n  const defaultCenter = [41.788064, -87.601145];\n  const defaultZoom = 13;\n  if (!mapReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-loading\",\n      children: \"Loading map...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-selector-container\",\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      center: defaultCenter,\n      zoom: defaultZoom,\n      style: {\n        height: '400px',\n        width: '100%',\n        borderRadius: '12px'\n      },\n      className: \"map-container\",\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapClickHandler, {\n        onMapClick: handleMapClick,\n        selectMode: selectMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), origin && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [origin.lat, origin.lng],\n        icon: originIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), destination && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [destination.lat, destination.lng],\n        icon: destinationIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-instructions\",\n      children: [selectMode === 'origin' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Click on the map to set the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"origin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 42\n        }, this), \" (green marker)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), selectMode === 'destination' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Click on the map to set the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 42\n        }, this), \" (red marker)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), selectMode === 'none' && origin && destination && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Both locations selected. Click \\\"Search for Rides\\\" to continue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s3(MapSelector, \"Yl0xENVp12q5vO0p3XYBiR60A88=\");\n_c3 = MapSelector;\nexport default MapSelector;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MapClickHandler\");\n$RefreshReg$(_c2, \"MapCenter\");\n$RefreshReg$(_c3, \"MapSelector\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","useMapEvents","useMap","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","originIcon","iconSize","iconAnchor","popupAnchor","tooltipAnchor","shadowSize","destinationIcon","MapClickHandler","onMapClick","selectMode","_s","click","e","latlng","_c","MapCenter","center","zoom","_s2","map","setView","getZoom","_c2","MapSelector","origin","destination","onOriginSelect","onDestinationSelect","_s3","mapReady","setMapReady","handleMapClick","mode","coords","lat","lng","defaultCenter","defaultZoom","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","width","borderRadius","attribution","url","position","icon","_c3","$RefreshReg$"],"sources":["/Users/linmat/Documents/GitHub/Reversed-RideSmart/frontend/src/MapSelector.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './MapSelector.css';\n\n// Fix for default marker icons in react-leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n});\n\n// Custom icon for origin (green)\nconst originIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  tooltipAnchor: [16, -28],\n  shadowSize: [41, 41]\n});\n\n// Custom icon for destination (red)\nconst destinationIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  tooltipAnchor: [16, -28],\n  shadowSize: [41, 41]\n});\n\n// Component to handle map clicks\nfunction MapClickHandler({ onMapClick, selectMode }) {\n  useMapEvents({\n    click(e) {\n      if (selectMode === 'origin' || selectMode === 'destination') {\n        onMapClick(e.latlng, selectMode);\n      }\n    },\n  });\n  return null;\n}\n\n// Component to center map on origin when it changes\nfunction MapCenter({ center, zoom }) {\n  const map = useMap();\n  useEffect(() => {\n    if (center) {\n      map.setView(center, zoom || map.getZoom());\n    }\n  }, [center, zoom, map]);\n  return null;\n}\n\nfunction MapSelector({ origin, destination, onOriginSelect, onDestinationSelect, selectMode }) {\n  const [mapReady, setMapReady] = useState(false);\n\n  useEffect(() => {\n    setMapReady(true);\n  }, []);\n\n  const handleMapClick = (latlng, mode) => {\n    const coords = {\n      lat: latlng.lat,\n      lng: latlng.lng\n    };\n\n    if (mode === 'origin') {\n      onOriginSelect(coords);\n    } else if (mode === 'destination') {\n      onDestinationSelect(coords);\n    }\n  };\n\n  // Default center (University of Chicago area)\n  const defaultCenter = [41.788064, -87.601145];\n  const defaultZoom = 13;\n\n  if (!mapReady) {\n    return <div className=\"map-loading\">Loading map...</div>;\n  }\n\n  return (\n    <div className=\"map-selector-container\">\n      <MapContainer\n        center={defaultCenter}\n        zoom={defaultZoom}\n        style={{ height: '400px', width: '100%', borderRadius: '12px' }}\n        className=\"map-container\"\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <MapClickHandler onMapClick={handleMapClick} selectMode={selectMode} />\n        {origin && (\n          <Marker position={[origin.lat, origin.lng]} icon={originIcon}>\n          </Marker>\n        )}\n        {destination && (\n          <Marker position={[destination.lat, destination.lng]} icon={destinationIcon}>\n          </Marker>\n        )}\n      </MapContainer>\n      <div className=\"map-instructions\">\n        {selectMode === 'origin' && (\n          <p>Click on the map to set the <strong>origin</strong> (green marker)</p>\n        )}\n        {selectMode === 'destination' && (\n          <p>Click on the map to set the <strong>destination</strong> (red marker)</p>\n        )}\n        {selectMode === 'none' && origin && destination && (\n          <p>Both locations selected. Click \"Search for Rides\" to continue.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default MapSelector;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}