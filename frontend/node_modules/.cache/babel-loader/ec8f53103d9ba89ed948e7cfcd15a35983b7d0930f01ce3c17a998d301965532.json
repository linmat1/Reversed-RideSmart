{"ast":null,"code":"import React,{useEffect,useState,useMemo}from'react';import{MapContainer,TileLayer,Marker,Polyline,Popup,useMap}from'react-leaflet';import L from'leaflet';import'leaflet/dist/leaflet.css';import'./RouteMap.css';// Fix for default marker icons in react-leaflet\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',iconUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png'});// Custom icon for pickup (green)\nconst pickupIcon=new L.Icon({iconUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});// Custom icon for dropoff (red)\nconst dropoffIcon=new L.Icon({iconUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});// Custom icon for intermediate stops (orange)\nconst stopIcon=new L.Icon({iconUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',iconSize:[20,33],iconAnchor:[10,33],popupAnchor:[1,-28],shadowSize:[33,33]});// Component to fit map bounds to route\nfunction FitBounds(_ref){let{routePoints}=_ref;const map=useMap();useEffect(()=>{if(routePoints&&routePoints.length>0){const bounds=L.latLngBounds(routePoints);map.fitBounds(bounds,{padding:[30,30]});}},[map,routePoints]);return null;}function RouteMap(_ref2){let{routeData,bookingData}=_ref2;const[mapReady,setMapReady]=useState(false);useEffect(()=>{setMapReady(true);},[]);// Extract route points for the polyline (if available)\nconst routePoints=useMemo(()=>{if(!routeData||!routeData.route)return[];return routeData.route.map(point=>[point.latlng.lat,point.latlng.lng]);},[routeData]);// Extract stops from the route data (if available)\nconst stops=useMemo(()=>{if(!routeData||!routeData.stops)return[];return routeData.stops.map(stop=>({position:[stop.stop_location.latlng.lat,stop.stop_location.latlng.lng],isPickup:stop.pickups&&stop.pickups.length>0,isDropoff:stop.dropoffs&&stop.dropoffs.length>0,stopPointId:stop.stop_point_id}));},[routeData]);// Extract pickup/dropoff from booking data as fallback\nconst bookingLocations=useMemo(()=>{var _bookingData$presched,_details$pickup,_details$pickup2,_details$pickup2$loca,_details$dropoff,_details$dropoff2,_details$dropoff2$loc;if(!bookingData)return null;const ride=(_bookingData$presched=bookingData.prescheduled_recurring_series_rides)===null||_bookingData$presched===void 0?void 0:_bookingData$presched[0];if(!ride)return null;const details=ride.prescheduled_recurring_series_ride_details;if(!details)return null;return{pickup:(_details$pickup=details.pickup)!==null&&_details$pickup!==void 0&&_details$pickup.location?[details.pickup.location.lat,details.pickup.location.lng]:null,pickupName:((_details$pickup2=details.pickup)===null||_details$pickup2===void 0?void 0:(_details$pickup2$loca=_details$pickup2.location)===null||_details$pickup2$loca===void 0?void 0:_details$pickup2$loca.description)||'Pickup',dropoff:(_details$dropoff=details.dropoff)!==null&&_details$dropoff!==void 0&&_details$dropoff.location?[details.dropoff.location.lat,details.dropoff.location.lng]:null,dropoffName:((_details$dropoff2=details.dropoff)===null||_details$dropoff2===void 0?void 0:(_details$dropoff2$loc=_details$dropoff2.location)===null||_details$dropoff2$loc===void 0?void 0:_details$dropoff2$loc.description)||'Dropoff',pickupTime:details.pickup_ts,dropoffStartTime:details.dropoff_start_ts,dropoffEndTime:details.dropoff_end_ts};},[bookingData]);// Default center (University of Chicago area)\nconst defaultCenter=[41.788064,-87.601145];const defaultZoom=14;if(!mapReady){return/*#__PURE__*/_jsx(\"div\",{className:\"route-map-loading\",children:\"Loading map...\"});}// Check if we have any data to display\nconst hasRouteData=routeData&&routeData.route&&routeData.route.length>0;const hasBookingLocations=bookingLocations&&(bookingLocations.pickup||bookingLocations.dropoff);if(!hasRouteData&&!hasBookingLocations){return/*#__PURE__*/_jsx(\"div\",{className:\"route-map-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No route data available\"})});}// Calculate points to fit bounds\nconst allPoints=[];if(hasRouteData){allPoints.push(...routePoints);}else if(hasBookingLocations){if(bookingLocations.pickup)allPoints.push(bookingLocations.pickup);if(bookingLocations.dropoff)allPoints.push(bookingLocations.dropoff);}// Helper to format timestamp\nconst formatTime=ts=>{if(!ts)return'';const date=new Date(ts*1000);return date.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"route-map-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDDFA\\uFE0F Your Trip\"}),hasBookingLocations&&/*#__PURE__*/_jsxs(\"div\",{className:\"trip-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"trip-location\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"trip-icon pickup\",children:\"\\u25CF\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pickup:\"}),\" \",bookingLocations.pickupName,bookingLocations.pickupTime&&/*#__PURE__*/_jsxs(\"span\",{className:\"trip-time\",children:[\" at \",formatTime(bookingLocations.pickupTime)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"trip-location\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"trip-icon dropoff\",children:\"\\u25CF\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dropoff:\"}),\" \",bookingLocations.dropoffName,bookingLocations.dropoffStartTime&&/*#__PURE__*/_jsxs(\"span\",{className:\"trip-time\",children:[\" ~\",formatTime(bookingLocations.dropoffStartTime)]})]})]})]}),/*#__PURE__*/_jsxs(MapContainer,{center:defaultCenter,zoom:defaultZoom,style:{height:'300px',width:'100%',borderRadius:'12px'},className:\"route-map\",children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(FitBounds,{routePoints:allPoints}),hasRouteData&&/*#__PURE__*/_jsx(Polyline,{positions:routePoints,color:\"#8B0000\",weight:4,opacity:0.8}),!hasRouteData&&hasBookingLocations&&bookingLocations.pickup&&bookingLocations.dropoff&&/*#__PURE__*/_jsx(Polyline,{positions:[bookingLocations.pickup,bookingLocations.dropoff],color:\"#4ecdc4\",weight:3,opacity:0.7,dashArray:\"10, 10\"}),hasRouteData&&stops.map((stop,index)=>{let icon=stopIcon;let label='Stop';if(stop.isPickup){icon=pickupIcon;label='Pickup';}else if(stop.isDropoff){icon=dropoffIcon;label='Dropoff';}return/*#__PURE__*/_jsx(Marker,{position:stop.position,icon:icon,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:label}),stop.isPickup&&/*#__PURE__*/_jsx(\"p\",{children:\"Your pickup point\"}),stop.isDropoff&&/*#__PURE__*/_jsx(\"p\",{children:\"Your dropoff point\"})]})},\"stop-\".concat(index));}),!hasRouteData&&hasBookingLocations&&/*#__PURE__*/_jsxs(_Fragment,{children:[bookingLocations.pickup&&/*#__PURE__*/_jsx(Marker,{position:bookingLocations.pickup,icon:pickupIcon,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pickup\"}),/*#__PURE__*/_jsx(\"p\",{children:bookingLocations.pickupName}),bookingLocations.pickupTime&&/*#__PURE__*/_jsxs(\"p\",{children:[\"ETA: \",formatTime(bookingLocations.pickupTime)]})]})}),bookingLocations.dropoff&&/*#__PURE__*/_jsx(Marker,{position:bookingLocations.dropoff,icon:dropoffIcon,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dropoff\"}),/*#__PURE__*/_jsx(\"p\",{children:bookingLocations.dropoffName})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"route-map-legend\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-marker pickup\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pickup\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-marker dropoff\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dropoff\"})]}),hasRouteData&&/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-line\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Route\"})]})]})]});}export default RouteMap;","map":{"version":3,"names":["React","useEffect","useState","useMemo","MapContainer","TileLayer","Marker","Polyline","Popup","useMap","L","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","pickupIcon","iconSize","iconAnchor","popupAnchor","shadowSize","dropoffIcon","stopIcon","FitBounds","_ref","routePoints","map","length","bounds","latLngBounds","fitBounds","padding","RouteMap","_ref2","routeData","bookingData","mapReady","setMapReady","route","point","latlng","lat","lng","stops","stop","position","stop_location","isPickup","pickups","isDropoff","dropoffs","stopPointId","stop_point_id","bookingLocations","_bookingData$presched","_details$pickup","_details$pickup2","_details$pickup2$loca","_details$dropoff","_details$dropoff2","_details$dropoff2$loc","ride","prescheduled_recurring_series_rides","details","prescheduled_recurring_series_ride_details","pickup","location","pickupName","description","dropoff","dropoffName","pickupTime","pickup_ts","dropoffStartTime","dropoff_start_ts","dropoffEndTime","dropoff_end_ts","defaultCenter","defaultZoom","className","children","hasRouteData","hasBookingLocations","allPoints","push","formatTime","ts","date","Date","toLocaleTimeString","hour","minute","center","zoom","style","height","width","borderRadius","attribution","url","positions","color","weight","opacity","dashArray","index","icon","label","concat"],"sources":["/Users/linmat/Documents/GitHub/Reversed-RideSmart/frontend/src/RouteMap.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { MapContainer, TileLayer, Marker, Polyline, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './RouteMap.css';\n\n// Fix for default marker icons in react-leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n});\n\n// Custom icon for pickup (green)\nconst pickupIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41]\n});\n\n// Custom icon for dropoff (red)\nconst dropoffIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41]\n});\n\n// Custom icon for intermediate stops (orange)\nconst stopIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [20, 33],\n  iconAnchor: [10, 33],\n  popupAnchor: [1, -28],\n  shadowSize: [33, 33]\n});\n\n// Component to fit map bounds to route\nfunction FitBounds({ routePoints }) {\n  const map = useMap();\n  \n  useEffect(() => {\n    if (routePoints && routePoints.length > 0) {\n      const bounds = L.latLngBounds(routePoints);\n      map.fitBounds(bounds, { padding: [30, 30] });\n    }\n  }, [map, routePoints]);\n  \n  return null;\n}\n\nfunction RouteMap({ routeData, bookingData }) {\n  const [mapReady, setMapReady] = useState(false);\n\n  useEffect(() => {\n    setMapReady(true);\n  }, []);\n\n  // Extract route points for the polyline (if available)\n  const routePoints = useMemo(() => {\n    if (!routeData || !routeData.route) return [];\n    return routeData.route.map(point => [point.latlng.lat, point.latlng.lng]);\n  }, [routeData]);\n\n  // Extract stops from the route data (if available)\n  const stops = useMemo(() => {\n    if (!routeData || !routeData.stops) return [];\n    return routeData.stops.map(stop => ({\n      position: [stop.stop_location.latlng.lat, stop.stop_location.latlng.lng],\n      isPickup: stop.pickups && stop.pickups.length > 0,\n      isDropoff: stop.dropoffs && stop.dropoffs.length > 0,\n      stopPointId: stop.stop_point_id\n    }));\n  }, [routeData]);\n\n  // Extract pickup/dropoff from booking data as fallback\n  const bookingLocations = useMemo(() => {\n    if (!bookingData) return null;\n    \n    const ride = bookingData.prescheduled_recurring_series_rides?.[0];\n    if (!ride) return null;\n    \n    const details = ride.prescheduled_recurring_series_ride_details;\n    if (!details) return null;\n    \n    return {\n      pickup: details.pickup?.location ? \n        [details.pickup.location.lat, details.pickup.location.lng] : null,\n      pickupName: details.pickup?.location?.description || 'Pickup',\n      dropoff: details.dropoff?.location ? \n        [details.dropoff.location.lat, details.dropoff.location.lng] : null,\n      dropoffName: details.dropoff?.location?.description || 'Dropoff',\n      pickupTime: details.pickup_ts,\n      dropoffStartTime: details.dropoff_start_ts,\n      dropoffEndTime: details.dropoff_end_ts\n    };\n  }, [bookingData]);\n\n  // Default center (University of Chicago area)\n  const defaultCenter = [41.788064, -87.601145];\n  const defaultZoom = 14;\n\n  if (!mapReady) {\n    return <div className=\"route-map-loading\">Loading map...</div>;\n  }\n\n  // Check if we have any data to display\n  const hasRouteData = routeData && routeData.route && routeData.route.length > 0;\n  const hasBookingLocations = bookingLocations && (bookingLocations.pickup || bookingLocations.dropoff);\n\n  if (!hasRouteData && !hasBookingLocations) {\n    return (\n      <div className=\"route-map-error\">\n        <p>No route data available</p>\n      </div>\n    );\n  }\n\n  // Calculate points to fit bounds\n  const allPoints = [];\n  if (hasRouteData) {\n    allPoints.push(...routePoints);\n  } else if (hasBookingLocations) {\n    if (bookingLocations.pickup) allPoints.push(bookingLocations.pickup);\n    if (bookingLocations.dropoff) allPoints.push(bookingLocations.dropoff);\n  }\n\n  // Helper to format timestamp\n  const formatTime = (ts) => {\n    if (!ts) return '';\n    const date = new Date(ts * 1000);\n    return date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });\n  };\n\n  return (\n    <div className=\"route-map-container\">\n      <h3>üó∫Ô∏è Your Trip</h3>\n      \n      {/* Trip details from booking */}\n      {hasBookingLocations && (\n        <div className=\"trip-details\">\n          <div className=\"trip-location\">\n            <span className=\"trip-icon pickup\">‚óè</span>\n            <div>\n              <strong>Pickup:</strong> {bookingLocations.pickupName}\n              {bookingLocations.pickupTime && (\n                <span className=\"trip-time\"> at {formatTime(bookingLocations.pickupTime)}</span>\n              )}\n            </div>\n          </div>\n          <div className=\"trip-location\">\n            <span className=\"trip-icon dropoff\">‚óè</span>\n            <div>\n              <strong>Dropoff:</strong> {bookingLocations.dropoffName}\n              {bookingLocations.dropoffStartTime && (\n                <span className=\"trip-time\"> ~{formatTime(bookingLocations.dropoffStartTime)}</span>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <MapContainer\n        center={defaultCenter}\n        zoom={defaultZoom}\n        style={{ height: '300px', width: '100%', borderRadius: '12px' }}\n        className=\"route-map\"\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        \n        {/* Fit map to show all points */}\n        <FitBounds routePoints={allPoints} />\n        \n        {/* Draw the route polyline if available */}\n        {hasRouteData && (\n          <Polyline \n            positions={routePoints} \n            color=\"#8B0000\" \n            weight={4}\n            opacity={0.8}\n          />\n        )}\n        \n        {/* Draw dashed line between pickup/dropoff if no route data */}\n        {!hasRouteData && hasBookingLocations && bookingLocations.pickup && bookingLocations.dropoff && (\n          <Polyline \n            positions={[bookingLocations.pickup, bookingLocations.dropoff]} \n            color=\"#4ecdc4\" \n            weight={3}\n            opacity={0.7}\n            dashArray=\"10, 10\"\n          />\n        )}\n        \n        {/* Show stops from route data */}\n        {hasRouteData && stops.map((stop, index) => {\n          let icon = stopIcon;\n          let label = 'Stop';\n          \n          if (stop.isPickup) {\n            icon = pickupIcon;\n            label = 'Pickup';\n          } else if (stop.isDropoff) {\n            icon = dropoffIcon;\n            label = 'Dropoff';\n          }\n          \n          return (\n            <Marker \n              key={`stop-${index}`} \n              position={stop.position} \n              icon={icon}\n            >\n              <Popup>\n                <strong>{label}</strong>\n                {stop.isPickup && <p>Your pickup point</p>}\n                {stop.isDropoff && <p>Your dropoff point</p>}\n              </Popup>\n            </Marker>\n          );\n        })}\n\n        {/* Show booking locations as markers if no route data */}\n        {!hasRouteData && hasBookingLocations && (\n          <>\n            {bookingLocations.pickup && (\n              <Marker position={bookingLocations.pickup} icon={pickupIcon}>\n                <Popup>\n                  <strong>Pickup</strong>\n                  <p>{bookingLocations.pickupName}</p>\n                  {bookingLocations.pickupTime && (\n                    <p>ETA: {formatTime(bookingLocations.pickupTime)}</p>\n                  )}\n                </Popup>\n              </Marker>\n            )}\n            {bookingLocations.dropoff && (\n              <Marker position={bookingLocations.dropoff} icon={dropoffIcon}>\n                <Popup>\n                  <strong>Dropoff</strong>\n                  <p>{bookingLocations.dropoffName}</p>\n                </Popup>\n              </Marker>\n            )}\n          </>\n        )}\n      </MapContainer>\n      \n      <div className=\"route-map-legend\">\n        <div className=\"legend-item\">\n          <span className=\"legend-marker pickup\"></span>\n          <span>Pickup</span>\n        </div>\n        <div className=\"legend-item\">\n          <span className=\"legend-marker dropoff\"></span>\n          <span>Dropoff</span>\n        </div>\n        {hasRouteData && (\n          <div className=\"legend-item\">\n            <span className=\"legend-line\"></span>\n            <span>Route</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default RouteMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}