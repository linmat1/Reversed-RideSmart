{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\linma\\\\OneDrive\\\\Documents\\\\GitHub\\\\Reversed-RideSmart\\\\frontend\\\\src\\\\MapSelector.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './MapSelector.css';\n\n// Fix for default marker icons in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png'\n});\n\n// Custom icon for origin (green)\nconst originIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  tooltipAnchor: [16, -28],\n  shadowSize: [41, 41]\n});\n\n// Custom icon for destination (red)\nconst destinationIcon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  tooltipAnchor: [16, -28],\n  shadowSize: [41, 41]\n});\n\n// Component to handle map clicks\nfunction MapClickHandler({\n  onMapClick,\n  selectMode\n}) {\n  _s();\n  useMapEvents({\n    click(e) {\n      if (selectMode === 'origin' || selectMode === 'destination') {\n        onMapClick(e.latlng, selectMode);\n      }\n    }\n  });\n  return null;\n}\n_s(MapClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n  return [useMapEvents];\n});\n_c = MapClickHandler;\nfunction MapSelector({\n  origin,\n  destination,\n  onOriginSelect,\n  onDestinationSelect,\n  selectMode\n}) {\n  _s2();\n  const [mapReady, setMapReady] = useState(false);\n  useEffect(() => {\n    setMapReady(true);\n  }, []);\n  const handleMapClick = (latlng, mode) => {\n    const coords = {\n      lat: latlng.lat,\n      lng: latlng.lng\n    };\n    if (mode === 'origin') {\n      onOriginSelect(coords);\n    } else if (mode === 'destination') {\n      onDestinationSelect(coords);\n    }\n  };\n\n  // Default center (University of Chicago area)\n  const defaultCenter = [41.788064, -87.601145];\n  const defaultZoom = 13;\n  if (!mapReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-loading\",\n      children: \"Loading map...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-selector-container\",\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      center: defaultCenter,\n      zoom: defaultZoom,\n      style: {\n        height: '400px',\n        width: '100%',\n        borderRadius: '12px'\n      },\n      className: \"map-container\",\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapClickHandler, {\n        onMapClick: handleMapClick,\n        selectMode: selectMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), origin && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [origin.lat, origin.lng],\n        icon: originIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), destination && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [destination.lat, destination.lng],\n        icon: destinationIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-instructions\",\n      children: [selectMode === 'origin' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Click on the map to set the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"origin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 42\n        }, this), \" (green marker)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), selectMode === 'destination' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Click on the map to set the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 42\n        }, this), \" (red marker)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), selectMode === 'none' && origin && destination && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Both locations selected. Click \\\"Search for Rides\\\" to continue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s2(MapSelector, \"Yl0xENVp12q5vO0p3XYBiR60A88=\");\n_c2 = MapSelector;\nexport default MapSelector;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapClickHandler\");\n$RefreshReg$(_c2, \"MapSelector\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","useMapEvents","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","originIcon","iconSize","iconAnchor","popupAnchor","tooltipAnchor","shadowSize","destinationIcon","MapClickHandler","onMapClick","selectMode","_s","click","e","latlng","_c","MapSelector","origin","destination","onOriginSelect","onDestinationSelect","_s2","mapReady","setMapReady","handleMapClick","mode","coords","lat","lng","defaultCenter","defaultZoom","className","children","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","style","height","width","borderRadius","attribution","url","position","icon","_c2","$RefreshReg$"],"sources":["C:/Users/linma/OneDrive/Documents/GitHub/Reversed-RideSmart/frontend/src/MapSelector.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, useMapEvents } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport './MapSelector.css';\r\n\r\n// Fix for default marker icons in react-leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\r\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\r\n});\r\n\r\n// Custom icon for origin (green)\r\nconst originIcon = new L.Icon({\r\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  tooltipAnchor: [16, -28],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\n// Custom icon for destination (red)\r\nconst destinationIcon = new L.Icon({\r\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  tooltipAnchor: [16, -28],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\n// Component to handle map clicks\r\nfunction MapClickHandler({ onMapClick, selectMode }) {\r\n  useMapEvents({\r\n    click(e) {\r\n      if (selectMode === 'origin' || selectMode === 'destination') {\r\n        onMapClick(e.latlng, selectMode);\r\n      }\r\n    },\r\n  });\r\n  return null;\r\n}\r\n\r\nfunction MapSelector({ origin, destination, onOriginSelect, onDestinationSelect, selectMode }) {\r\n  const [mapReady, setMapReady] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMapReady(true);\r\n  }, []);\r\n\r\n  const handleMapClick = (latlng, mode) => {\r\n    const coords = {\r\n      lat: latlng.lat,\r\n      lng: latlng.lng\r\n    };\r\n\r\n    if (mode === 'origin') {\r\n      onOriginSelect(coords);\r\n    } else if (mode === 'destination') {\r\n      onDestinationSelect(coords);\r\n    }\r\n  };\r\n\r\n  // Default center (University of Chicago area)\r\n  const defaultCenter = [41.788064, -87.601145];\r\n  const defaultZoom = 13;\r\n\r\n  if (!mapReady) {\r\n    return <div className=\"map-loading\">Loading map...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"map-selector-container\">\r\n      <MapContainer\r\n        center={defaultCenter}\r\n        zoom={defaultZoom}\r\n        style={{ height: '400px', width: '100%', borderRadius: '12px' }}\r\n        className=\"map-container\"\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <MapClickHandler onMapClick={handleMapClick} selectMode={selectMode} />\r\n        {origin && (\r\n          <Marker position={[origin.lat, origin.lng]} icon={originIcon}>\r\n          </Marker>\r\n        )}\r\n        {destination && (\r\n          <Marker position={[destination.lat, destination.lng]} icon={destinationIcon}>\r\n          </Marker>\r\n        )}\r\n      </MapContainer>\r\n      <div className=\"map-instructions\">\r\n        {selectMode === 'origin' && (\r\n          <p>Click on the map to set the <strong>origin</strong> (green marker)</p>\r\n        )}\r\n        {selectMode === 'destination' && (\r\n          <p>Click on the map to set the <strong>destination</strong> (red marker)</p>\r\n        )}\r\n        {selectMode === 'none' && origin && destination && (\r\n          <p>Both locations selected. Click \"Search for Rides\" to continue.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapSelector;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}